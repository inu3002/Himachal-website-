// ================= NAVBAR COLOR CHANGE ON SCROLL =================
window.addEventListener("scroll", function () {
  const navbar = document.querySelector(".navbar");
  if (!navbar) return;

  if (window.scrollY > 50) {
    navbar.classList.add("shadow");
    navbar.style.background = "#0b2c3d";
  } else {
    navbar.classList.remove("shadow");
    navbar.style.background = "#212529";
  }
});


// ================= FADE IN ANIMATION =================
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add("show");
    }
  });
});

// check elements exist before observing
document.querySelectorAll(".card, .content-section, .gallery-item").forEach(el => {
  el.classList.add("hidden");
  observer.observe(el);
});


// ================= SCROLL TO TOP BUTTON =================
const topBtn = document.createElement("button");
topBtn.innerHTML = "â†‘";
topBtn.id = "topBtn";
document.body.appendChild(topBtn);

topBtn.onclick = () => window.scrollTo({ top: 0, behavior: "smooth" });

window.addEventListener("scroll", () => {
  topBtn.style.display = window.scrollY > 300 ? "block" : "none";
});


// ================= AUTO CLOSE NAVBAR ON MOBILE =================
document.querySelectorAll('.nav-link').forEach(link => {
  link.addEventListener('click', function () {
    const nav = document.querySelector('.navbar-collapse');
    if (nav && nav.classList.contains('show')) {
      const bsCollapse = bootstrap.Collapse.getInstance(nav)
        || new bootstrap.Collapse(nav);
      bsCollapse.hide();
    }
  });
});
